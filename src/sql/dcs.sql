/*
Navicat MySQL Data Transfer

Source Server         : localServer
Source Server Version : 50713
Source Host           : localhost:3306
Source Database       : dcs

Target Server Type    : MYSQL
Target Server Version : 50713
File Encoding         : 65001

Date: 2018-05-29 10:53:43
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for dcs_data_type
-- ----------------------------
DROP TABLE IF EXISTS `dcs_data_type`;
CREATE TABLE `dcs_data_type` (
  `data_type_id` int(11) NOT NULL AUTO_INCREMENT,
  `data_type_name` varchar(20) DEFAULT NULL COMMENT '类型名称',
  `data_type_path_reg` varchar(255) DEFAULT NULL COMMENT '文件名称匹配的正则表达式',
  `is_ftp_delete` int(10) DEFAULT NULL COMMENT '是否删除ftp文件  0 不删除  1  删除',
  `is_file_delete` int(10) DEFAULT NULL COMMENT '是否删除本地文件  0 不删除  1  删除  2 挪动文件',
  `hdfs_path` varchar(500) DEFAULT NULL COMMENT '文件存储hdfs路径',
  `path_ftp` varchar(200) DEFAULT NULL COMMENT '文件转义相对路径',
  PRIMARY KEY (`data_type_id`)
) ENGINE=MyISAM AUTO_INCREMENT=34 DEFAULT CHARSET=utf8 COMMENT='DCS数据文件类型表';

-- ----------------------------
-- Table structure for dcs_failure_file
-- ----------------------------
DROP TABLE IF EXISTS `dcs_failure_file`;
CREATE TABLE `dcs_failure_file` (
  `file_id` int(11) NOT NULL COMMENT '文件id',
  `ftp_id` int(11) DEFAULT NULL COMMENT 'ftp表id',
  `data_type_id` int(11) DEFAULT NULL COMMENT '数据类型id',
  `path_and_name` varchar(765) DEFAULT NULL COMMENT '文件保存路径和名称',
  `rename_file_name` varchar(765) DEFAULT NULL COMMENT '文件更改后的名称',
  `file_insert_time` datetime DEFAULT NULL COMMENT '文件插入时间',
  `status` int(11) DEFAULT NULL COMMENT '0：已经下发到probe但没有下载完成。1：下载完成但没有执行上传hdfs。2：上传hdfs成功。3：上传hdfs失败。4：正在执行hdfs上传但没有上传完毕。',
  `probe_id` int(11) DEFAULT NULL COMMENT 'probeid',
  `file_size` bigint(20) DEFAULT NULL COMMENT '文件大小 单位字节',
  `ftp_path_and_name` varchar(765) DEFAULT NULL COMMENT '文件在ftp端的路径和名称',
  `download_duration` bigint(20) DEFAULT NULL COMMENT '下载时长（ms）',
  `to_hdfs_duration` bigint(20) DEFAULT NULL COMMENT '上传hdfs时长（ms）',
  `hdfs_path` varchar(500) DEFAULT NULL COMMENT '文件存储HDFS路径',
  KEY `file_id` (`file_id`)
) ENGINE=MyISAM AUTO_INCREMENT=21984250 DEFAULT CHARSET=utf8 COMMENT='DCS失败数据文件表';

-- ----------------------------
-- Table structure for dcs_file
-- ----------------------------
DROP TABLE IF EXISTS `dcs_file`;
CREATE TABLE `dcs_file` (
  `file_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '文件id',
  `ftp_id` int(11) DEFAULT NULL COMMENT 'ftp表id',
  `data_type_id` int(11) DEFAULT NULL COMMENT '数据类型id',
  `path_and_name` varchar(255) DEFAULT NULL COMMENT '文件路径及名称',
  `rename_file_name` varchar(255) DEFAULT NULL COMMENT '文件更改后的名称',
  `file_intime` datetime DEFAULT NULL COMMENT '文件插入时间',
  `file_size` bigint(20) DEFAULT NULL COMMENT '文件大小 单位字节',
  `source` int(5) DEFAULT NULL COMMENT '数据来源',
  `hdfs_path` varchar(255) DEFAULT NULL COMMENT '存储hdfs路径',
  PRIMARY KEY (`file_id`)
) ENGINE=MyISAM AUTO_INCREMENT=49799833 DEFAULT CHARSET=utf8 COMMENT='DCS数据文件表';

-- ----------------------------
-- Table structure for dcs_ftp_server
-- ----------------------------
DROP TABLE IF EXISTS `dcs_ftp_server`;
CREATE TABLE `dcs_ftp_server` (
  `ftp_id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ftpid',
  `ftp_ip` varchar(16) DEFAULT NULL COMMENT 'ftp服务端ip',
  `ftp_port` int(11) DEFAULT NULL COMMENT 'ftp服务端端口',
  `ftp_user_name` varchar(50) DEFAULT NULL COMMENT 'ftp服务端用户名',
  `ftp_password` varchar(50) DEFAULT NULL COMMENT 'ftp服务端密码',
  `ftp_work_directory` varchar(30) DEFAULT NULL COMMENT 'ftp服务端工作空间',
  `ftp_last_scan_time` bigint(30) DEFAULT NULL COMMENT '最后扫描时间',
  `ftp_period` int(11) DEFAULT NULL COMMENT '扫描间隔时长',
  `ftp_scanner_id` int(11) DEFAULT NULL COMMENT 'scanner表id',
  `ftp_last_server_time` bigint(20) DEFAULT NULL COMMENT '最后扫描时间',
  PRIMARY KEY (`ftp_id`)
) ENGINE=MyISAM AUTO_INCREMENT=19 DEFAULT CHARSET=utf8 COMMENT='DCSFTP服务器';

-- ----------------------------
-- Table structure for dcs_ftp_type_rel
-- ----------------------------
DROP TABLE IF EXISTS `dcs_ftp_type_rel`;
CREATE TABLE `dcs_ftp_type_rel` (
  `ftp_id` int(11) NOT NULL AUTO_INCREMENT,
  `data_type_id` int(11) DEFAULT NULL,
  `enabled` bit(1) DEFAULT NULL COMMENT '是否启用0 停用 1 启用',
  KEY `ftp_id` (`ftp_id`)
) ENGINE=MyISAM AUTO_INCREMENT=16 DEFAULT CHARSET=utf8 COMMENT='DCSFTP服务器与DCS数据文件类型的关联关系表';

-- ----------------------------
-- Table structure for dcs_history_file
-- ----------------------------
DROP TABLE IF EXISTS `dcs_history_file`;
CREATE TABLE `dcs_history_file` (
  `file_id` int(11) NOT NULL,
  `ftp_id` int(11) DEFAULT NULL,
  `data_type_id` int(11) DEFAULT NULL COMMENT 'dcs_data_type表id',
  `path_and_name` varchar(255) COLLATE utf8_bin DEFAULT NULL,
  `rename_file_name` varchar(255) COLLATE utf8_bin DEFAULT NULL,
  `file_insert_time` datetime DEFAULT NULL,
  `status` int(11) DEFAULT NULL COMMENT '0：已经下发到probe但没有下载完成。1：下载完成但没有执行上传hdfs。2：上传hdfs成功。3：上传hdfs失败。4：正在执行hdfs上传但没有上传完毕。',
  `probe_id` int(11) DEFAULT NULL,
  `file_size` bigint(20) DEFAULT NULL COMMENT '文件大小   单位字节',
  `ftp_path_and_name` varchar(255) COLLATE utf8_bin DEFAULT NULL,
  `download_duration` bigint(20) DEFAULT NULL COMMENT '下载时长（ms）',
  `to_hdfs_duration` bigint(20) DEFAULT NULL COMMENT '上传hdfs时长（ms）',
  `event_time_day_int` int(11) NOT NULL,
  `hdfs_path` varchar(500) COLLATE utf8_bin DEFAULT NULL COMMENT '文件存储HDFS路径'
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COLLATE=utf8_bin ROW_FORMAT=COMPRESSED COMMENT='DCS历史数据文件表'
/*!50100 PARTITION BY LIST (event_time_day_int)
(PARTITION p20170903 VALUES IN (20170903) ENGINE = MyISAM,
 PARTITION p20170901 VALUES IN (20170901) ENGINE = MyISAM,
 PARTITION p20170902 VALUES IN (20170902) ENGINE = MyISAM,
 PARTITION p20170904 VALUES IN (20170904) ENGINE = MyISAM,
 PARTITION p20170905 VALUES IN (20170905) ENGINE = MyISAM,
 PARTITION p20170906 VALUES IN (20170906) ENGINE = MyISAM,
 PARTITION p20170907 VALUES IN (20170907) ENGINE = MyISAM,
 PARTITION p20170908 VALUES IN (20170908) ENGINE = MyISAM,
 PARTITION p20170909 VALUES IN (20170909) ENGINE = MyISAM,
 PARTITION p20170910 VALUES IN (20170910) ENGINE = MyISAM,
 PARTITION p20170911 VALUES IN (20170911) ENGINE = MyISAM,
 PARTITION p20170912 VALUES IN (20170912) ENGINE = MyISAM,
 PARTITION p20170913 VALUES IN (20170913) ENGINE = MyISAM,
 PARTITION p20170914 VALUES IN (20170914) ENGINE = MyISAM,
 PARTITION p20170915 VALUES IN (20170915) ENGINE = MyISAM,
 PARTITION p20170916 VALUES IN (20170916) ENGINE = MyISAM,
 PARTITION p20170917 VALUES IN (20170917) ENGINE = MyISAM,
 PARTITION p20170918 VALUES IN (20170918) ENGINE = MyISAM,
 PARTITION p20170919 VALUES IN (20170919) ENGINE = MyISAM,
 PARTITION p20170920 VALUES IN (20170920) ENGINE = MyISAM,
 PARTITION p20170921 VALUES IN (20170921) ENGINE = MyISAM,
 PARTITION p20170922 VALUES IN (20170922) ENGINE = MyISAM,
 PARTITION p20170923 VALUES IN (20170923) ENGINE = MyISAM,
 PARTITION p20170924 VALUES IN (20170924) ENGINE = MyISAM,
 PARTITION p20170925 VALUES IN (20170925) ENGINE = MyISAM,
 PARTITION p20170926 VALUES IN (20170926) ENGINE = MyISAM,
 PARTITION p20170927 VALUES IN (20170927) ENGINE = MyISAM,
 PARTITION p20170928 VALUES IN (20170928) ENGINE = MyISAM,
 PARTITION p20170929 VALUES IN (20170929) ENGINE = MyISAM,
 PARTITION p20170930 VALUES IN (20170930) ENGINE = MyISAM,
 PARTITION p20170931 VALUES IN (20170931) ENGINE = MyISAM,
 PARTITION p20171001 VALUES IN (20171001) ENGINE = MyISAM,
 PARTITION p20171003 VALUES IN (20171003) ENGINE = MyISAM,
 PARTITION p20171002 VALUES IN (20171002) ENGINE = MyISAM,
 PARTITION p20171004 VALUES IN (20171004) ENGINE = MyISAM,
 PARTITION p20171005 VALUES IN (20171005) ENGINE = MyISAM,
 PARTITION p20171006 VALUES IN (20171006) ENGINE = MyISAM,
 PARTITION p20171007 VALUES IN (20171007) ENGINE = MyISAM,
 PARTITION p20171008 VALUES IN (20171008) ENGINE = MyISAM,
 PARTITION p20171009 VALUES IN (20171009) ENGINE = MyISAM,
 PARTITION p20171010 VALUES IN (20171010) ENGINE = MyISAM,
 PARTITION p20171011 VALUES IN (20171011) ENGINE = MyISAM,
 PARTITION p20171012 VALUES IN (20171012) ENGINE = MyISAM,
 PARTITION p20171013 VALUES IN (20171013) ENGINE = MyISAM,
 PARTITION p20171014 VALUES IN (20171014) ENGINE = MyISAM,
 PARTITION p20171015 VALUES IN (20171015) ENGINE = MyISAM,
 PARTITION p20171016 VALUES IN (20171016) ENGINE = MyISAM,
 PARTITION p20171017 VALUES IN (20171017) ENGINE = MyISAM,
 PARTITION p20171018 VALUES IN (20171018) ENGINE = MyISAM,
 PARTITION p20171019 VALUES IN (20171019) ENGINE = MyISAM,
 PARTITION p20171020 VALUES IN (20171020) ENGINE = MyISAM,
 PARTITION p20171021 VALUES IN (20171021) ENGINE = MyISAM,
 PARTITION p20171022 VALUES IN (20171022) ENGINE = MyISAM,
 PARTITION p20171023 VALUES IN (20171023) ENGINE = MyISAM,
 PARTITION p20171024 VALUES IN (20171024) ENGINE = MyISAM,
 PARTITION p20171025 VALUES IN (20171025) ENGINE = MyISAM,
 PARTITION p20171026 VALUES IN (20171026) ENGINE = MyISAM,
 PARTITION p20171027 VALUES IN (20171027) ENGINE = MyISAM,
 PARTITION p20171028 VALUES IN (20171028) ENGINE = MyISAM,
 PARTITION p20171029 VALUES IN (20171029) ENGINE = MyISAM,
 PARTITION p20171030 VALUES IN (20171030) ENGINE = MyISAM,
 PARTITION p20171031 VALUES IN (20171031) ENGINE = MyISAM,
 PARTITION p20171101 VALUES IN (20171101) ENGINE = MyISAM,
 PARTITION p20171103 VALUES IN (20171103) ENGINE = MyISAM,
 PARTITION p20171102 VALUES IN (20171102) ENGINE = MyISAM,
 PARTITION p20171104 VALUES IN (20171104) ENGINE = MyISAM,
 PARTITION p20171105 VALUES IN (20171105) ENGINE = MyISAM,
 PARTITION p20171106 VALUES IN (20171106) ENGINE = MyISAM,
 PARTITION p20171107 VALUES IN (20171107) ENGINE = MyISAM,
 PARTITION p20171108 VALUES IN (20171108) ENGINE = MyISAM,
 PARTITION p20171109 VALUES IN (20171109) ENGINE = MyISAM,
 PARTITION p20171110 VALUES IN (20171110) ENGINE = MyISAM,
 PARTITION p20171111 VALUES IN (20171111) ENGINE = MyISAM,
 PARTITION p20171112 VALUES IN (20171112) ENGINE = MyISAM,
 PARTITION p20171113 VALUES IN (20171113) ENGINE = MyISAM,
 PARTITION p20171114 VALUES IN (20171114) ENGINE = MyISAM,
 PARTITION p20171115 VALUES IN (20171115) ENGINE = MyISAM,
 PARTITION p20171116 VALUES IN (20171116) ENGINE = MyISAM,
 PARTITION p20171117 VALUES IN (20171117) ENGINE = MyISAM,
 PARTITION p20171118 VALUES IN (20171118) ENGINE = MyISAM,
 PARTITION p20171119 VALUES IN (20171119) ENGINE = MyISAM,
 PARTITION p20171120 VALUES IN (20171120) ENGINE = MyISAM,
 PARTITION p20171121 VALUES IN (20171121) ENGINE = MyISAM,
 PARTITION p20171122 VALUES IN (20171122) ENGINE = MyISAM,
 PARTITION p20171123 VALUES IN (20171123) ENGINE = MyISAM,
 PARTITION p20171124 VALUES IN (20171124) ENGINE = MyISAM,
 PARTITION p20171125 VALUES IN (20171125) ENGINE = MyISAM,
 PARTITION p20171126 VALUES IN (20171126) ENGINE = MyISAM,
 PARTITION p20171127 VALUES IN (20171127) ENGINE = MyISAM,
 PARTITION p20171128 VALUES IN (20171128) ENGINE = MyISAM,
 PARTITION p20171129 VALUES IN (20171129) ENGINE = MyISAM,
 PARTITION p20171130 VALUES IN (20171130) ENGINE = MyISAM,
 PARTITION p20171131 VALUES IN (20171131) ENGINE = MyISAM,
 PARTITION p20171226 VALUES IN (20171226) ENGINE = MyISAM,
 PARTITION p20171227 VALUES IN (20171227) ENGINE = MyISAM,
 PARTITION p20171228 VALUES IN (20171228) ENGINE = MyISAM,
 PARTITION p20171229 VALUES IN (20171229) ENGINE = MyISAM,
 PARTITION p20171230 VALUES IN (20171230) ENGINE = MyISAM,
 PARTITION p20171231 VALUES IN (20171231) ENGINE = MyISAM,
 PARTITION p20180101 VALUES IN (20180101) ENGINE = MyISAM,
 PARTITION p20180102 VALUES IN (20180102) ENGINE = MyISAM,
 PARTITION p20180103 VALUES IN (20180103) ENGINE = MyISAM,
 PARTITION p20180104 VALUES IN (20180104) ENGINE = MyISAM,
 PARTITION p20180105 VALUES IN (20180105) ENGINE = MyISAM,
 PARTITION p20180106 VALUES IN (20180106) ENGINE = MyISAM,
 PARTITION p20180107 VALUES IN (20180107) ENGINE = MyISAM,
 PARTITION p20180108 VALUES IN (20180108) ENGINE = MyISAM,
 PARTITION p20180109 VALUES IN (20180109) ENGINE = MyISAM,
 PARTITION p20180110 VALUES IN (20180110) ENGINE = MyISAM,
 PARTITION p20180111 VALUES IN (20180111) ENGINE = MyISAM,
 PARTITION p20180112 VALUES IN (20180112) ENGINE = MyISAM,
 PARTITION p20180113 VALUES IN (20180113) ENGINE = MyISAM,
 PARTITION p20180114 VALUES IN (20180114) ENGINE = MyISAM,
 PARTITION p20180115 VALUES IN (20180115) ENGINE = MyISAM,
 PARTITION p20180116 VALUES IN (20180116) ENGINE = MyISAM,
 PARTITION p20180117 VALUES IN (20180117) ENGINE = MyISAM,
 PARTITION p20180118 VALUES IN (20180118) ENGINE = MyISAM,
 PARTITION p20180119 VALUES IN (20180119) ENGINE = MyISAM,
 PARTITION p20180120 VALUES IN (20180120) ENGINE = MyISAM,
 PARTITION p20180121 VALUES IN (20180121) ENGINE = MyISAM,
 PARTITION p20180122 VALUES IN (20180122) ENGINE = MyISAM,
 PARTITION p20180123 VALUES IN (20180123) ENGINE = MyISAM,
 PARTITION p20180124 VALUES IN (20180124) ENGINE = MyISAM,
 PARTITION p20180125 VALUES IN (20180125) ENGINE = MyISAM,
 PARTITION p20180126 VALUES IN (20180126) ENGINE = MyISAM,
 PARTITION p20180127 VALUES IN (20180127) ENGINE = MyISAM,
 PARTITION p20180128 VALUES IN (20180128) ENGINE = MyISAM,
 PARTITION p20180129 VALUES IN (20180129) ENGINE = MyISAM,
 PARTITION p20180130 VALUES IN (20180130) ENGINE = MyISAM,
 PARTITION p20180131 VALUES IN (20180131) ENGINE = MyISAM,
 PARTITION p20180201 VALUES IN (20180201) ENGINE = MyISAM,
 PARTITION p20180202 VALUES IN (20180202) ENGINE = MyISAM,
 PARTITION p20180203 VALUES IN (20180203) ENGINE = MyISAM,
 PARTITION p20180204 VALUES IN (20180204) ENGINE = MyISAM,
 PARTITION p20180205 VALUES IN (20180205) ENGINE = MyISAM,
 PARTITION p20180206 VALUES IN (20180206) ENGINE = MyISAM,
 PARTITION p20180207 VALUES IN (20180207) ENGINE = MyISAM,
 PARTITION p20180208 VALUES IN (20180208) ENGINE = MyISAM,
 PARTITION p20180209 VALUES IN (20180209) ENGINE = MyISAM,
 PARTITION p20180210 VALUES IN (20180210) ENGINE = MyISAM,
 PARTITION p20180211 VALUES IN (20180211) ENGINE = MyISAM,
 PARTITION p20180212 VALUES IN (20180212) ENGINE = MyISAM,
 PARTITION p20180213 VALUES IN (20180213) ENGINE = MyISAM,
 PARTITION p20180214 VALUES IN (20180214) ENGINE = MyISAM,
 PARTITION p20180215 VALUES IN (20180215) ENGINE = MyISAM,
 PARTITION p20180216 VALUES IN (20180216) ENGINE = MyISAM,
 PARTITION p20180217 VALUES IN (20180217) ENGINE = MyISAM,
 PARTITION p20180218 VALUES IN (20180218) ENGINE = MyISAM,
 PARTITION p20180219 VALUES IN (20180219) ENGINE = MyISAM,
 PARTITION p20180220 VALUES IN (20180220) ENGINE = MyISAM,
 PARTITION p20180221 VALUES IN (20180221) ENGINE = MyISAM,
 PARTITION p20180222 VALUES IN (20180222) ENGINE = MyISAM,
 PARTITION p20180223 VALUES IN (20180223) ENGINE = MyISAM,
 PARTITION p20180224 VALUES IN (20180224) ENGINE = MyISAM,
 PARTITION p20180225 VALUES IN (20180225) ENGINE = MyISAM,
 PARTITION p20180226 VALUES IN (20180226) ENGINE = MyISAM,
 PARTITION p20180227 VALUES IN (20180227) ENGINE = MyISAM,
 PARTITION p20180228 VALUES IN (20180228) ENGINE = MyISAM,
 PARTITION p20180504 VALUES IN (20180504) ENGINE = MyISAM,
 PARTITION p20180503 VALUES IN (20180503) ENGINE = MyISAM,
 PARTITION p20180502 VALUES IN (20180502) ENGINE = MyISAM,
 PARTITION p20180501 VALUES IN (20180501) ENGINE = MyISAM,
 PARTITION p20180505 VALUES IN (20180505) ENGINE = MyISAM,
 PARTITION p20180506 VALUES IN (20180506) ENGINE = MyISAM,
 PARTITION p20180507 VALUES IN (20180507) ENGINE = MyISAM,
 PARTITION p20180508 VALUES IN (20180508) ENGINE = MyISAM,
 PARTITION p20180509 VALUES IN (20180509) ENGINE = MyISAM,
 PARTITION p20180510 VALUES IN (20180510) ENGINE = MyISAM,
 PARTITION p20180511 VALUES IN (20180511) ENGINE = MyISAM,
 PARTITION p20180512 VALUES IN (20180512) ENGINE = MyISAM,
 PARTITION p20180513 VALUES IN (20180513) ENGINE = MyISAM,
 PARTITION p20180514 VALUES IN (20180514) ENGINE = MyISAM,
 PARTITION p20180515 VALUES IN (20180515) ENGINE = MyISAM,
 PARTITION p20180516 VALUES IN (20180516) ENGINE = MyISAM,
 PARTITION p20180517 VALUES IN (20180517) ENGINE = MyISAM,
 PARTITION p20180518 VALUES IN (20180518) ENGINE = MyISAM,
 PARTITION p20180519 VALUES IN (20180519) ENGINE = MyISAM,
 PARTITION p20180520 VALUES IN (20180520) ENGINE = MyISAM,
 PARTITION p20180521 VALUES IN (20180521) ENGINE = MyISAM,
 PARTITION p20180522 VALUES IN (20180522) ENGINE = MyISAM,
 PARTITION p20180523 VALUES IN (20180523) ENGINE = MyISAM) */;

-- ----------------------------
-- Table structure for dcs_probe
-- ----------------------------
DROP TABLE IF EXISTS `dcs_probe`;
CREATE TABLE `dcs_probe` (
  `probe_id` int(11) NOT NULL AUTO_INCREMENT,
  `probe_name` varchar(50) DEFAULT NULL COMMENT 'probe名称',
  `probe_ip` varchar(50) DEFAULT NULL,
  `hard_disk` varchar(100) DEFAULT NULL COMMENT '数据分配的硬盘',
  `total_space` varchar(100) DEFAULT NULL COMMENT '硬盘的总空间',
  `free_space` varchar(100) DEFAULT NULL COMMENT '硬盘的剩余空间',
  `use_space` varchar(100) DEFAULT NULL COMMENT '硬盘的已用空间',
  `heart_interval` int(15) DEFAULT NULL COMMENT '心跳间隔时间',
  `update_time` datetime DEFAULT NULL COMMENT '最后一次修改时间',
  PRIMARY KEY (`probe_id`)
) ENGINE=MyISAM AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COMMENT='DCSProbe表';

-- ----------------------------
-- Table structure for dcs_probe_heartbeat
-- ----------------------------
DROP TABLE IF EXISTS `dcs_probe_heartbeat`;
CREATE TABLE `dcs_probe_heartbeat` (
  `probe_id` int(11) NOT NULL AUTO_INCREMENT,
  `probe_name` varchar(50) DEFAULT NULL COMMENT 'probe名称',
  `probe_ip` varchar(50) DEFAULT NULL,
  `hard_disk` varchar(100) DEFAULT NULL COMMENT '数据分配的硬盘',
  `total_space` varchar(100) DEFAULT NULL COMMENT '硬盘的总空间',
  `free_space` varchar(100) DEFAULT NULL COMMENT '硬盘的剩余空间',
  `use_space` varchar(100) DEFAULT NULL COMMENT '硬盘的已用空间',
  `heart_interval` int(15) DEFAULT NULL COMMENT '心跳间隔时长',
  `insert_time` datetime DEFAULT NULL COMMENT '数据插入时间',
  KEY `probe_id` (`probe_id`)
) ENGINE=MyISAM AUTO_INCREMENT=5 DEFAULT CHARSET=utf8 COMMENT='DCSProbe存活心跳日志表';

-- ----------------------------
-- Table structure for dcs_scanner
-- ----------------------------
DROP TABLE IF EXISTS `dcs_scanner`;
CREATE TABLE `dcs_scanner` (
  `scanner_id` int(11) NOT NULL AUTO_INCREMENT,
  `scanner_name` varchar(50) DEFAULT NULL COMMENT '扫描服务器名称',
  `scanner_ip` varchar(16) DEFAULT NULL COMMENT '扫描服务器ip',
  PRIMARY KEY (`scanner_id`)
) ENGINE=MyISAM AUTO_INCREMENT=2 DEFAULT CHARSET=utf8 COMMENT='DCSScanner扫描器表';

-- ----------------------------
-- Table structure for dcs_task_file
-- ----------------------------
DROP TABLE IF EXISTS `dcs_task_file`;
CREATE TABLE `dcs_task_file` (
  `file_id` int(11) NOT NULL,
  `ftp_id` int(11) DEFAULT NULL,
  `data_type_id` int(11) DEFAULT NULL,
  `path_and_name` varchar(255) DEFAULT NULL COMMENT '文件路径及名称',
  `rename_file_name` varchar(255) DEFAULT NULL COMMENT '文件更改后的名称',
  `file_insert_time` datetime DEFAULT NULL COMMENT '文件插入时间',
  `status` int(5) DEFAULT NULL COMMENT '0：已经下发到probe但没有下载完成。1：下载完成但没有执行上传hdfs。2：上传hdfs成功。3：上传hdfs失败。4：正在执行hdfs上传但没有上传完毕。',
  `probe_id` int(11) DEFAULT NULL,
  `file_size` bigint(20) DEFAULT NULL COMMENT '文件大小 单位字节',
  `ftp_path_and_name` varchar(255) DEFAULT NULL COMMENT '文件在ftp端的路径和名称',
  `download_duration` bigint(20) DEFAULT NULL COMMENT '下载时长(ms)',
  `hdfs_path` varchar(500) DEFAULT NULL COMMENT '文件存储HDFS路径',
  PRIMARY KEY (`file_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='DCS任务数据文件表';

-- ----------------------------
-- Table structure for test_model
-- ----------------------------
DROP TABLE IF EXISTS `test_model`;
CREATE TABLE `test_model` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8;
